(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{64:function(e,t,a){e.exports=a(84)},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/main-bg.76acc2b5.jpg"},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=(a(69),a(70),a(27)),l=a(11),o=(a(71),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],i=t[1],o=window.screen.width,u=window.screen.height;return r.a.createElement("div",{className:"bg"},r.a.createElement("div",{style:c?{}:{display:"none"}},r.a.createElement("img",{className:"bg fade-in",src:a(72),alt:"",onLoad:function(){return i(!0)},style:Object(s.a)(Object(s.a)({},{display:"block",height:"auto",width:"auto"}),{},{maxWidth:o,maxHeight:u})})))}),u=a(22),d=a(47),m=a.n(d),p=window.localStorage.getItem("degree-unit");p||window.localStorage.setItem("degree-unit","C");var f=p&&"FC".includes(p)?p:"C",E=Object(n.createContext)(f),v=Object(n.createContext)(void 0),h=function(e){var t=e.children,a=Object(n.useState)(f),c=Object(l.a)(a,2),i=c[0],s=c[1];return r.a.createElement(E.Provider,{value:i},r.a.createElement(v.Provider,{value:s},t))},g=function(){return[Object(n.useContext)(E),Object(n.useContext)(v)]},b=function(){var e=g(),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){window.localStorage.setItem("degree-unit",a)}),[a]);var i={divider:{margin:"8px 0",height:1,backgroundColor:"#c0c0c066"},unit:{display:"flex",justifyContent:"center",alignItems:"center",height:"90%",fontSize:25,paddingRight:2},text:{float:"left",display:"flex",justifyContent:"left",alignItems:"center",fontSize:25,paddingLeft:"1rem"}};return r.a.createElement("div",null,r.a.createElement("label",{style:{width:"100%"}},r.a.createElement("h3",null,"Options")),r.a.createElement("div",{style:i.divider}),r.a.createElement("div",null,r.a.createElement("b",{style:i.text},"Unit"),r.a.createElement(m.a,{checked:function(e){return"C"===e}(a),onChange:function(e){return c(e?"C":"F")},handleDiameter:28,offColor:"#00539c",onColor:"#eea47f",offHandleColor:"#eea47f",onHandleColor:"#00539c",height:40,width:70,className:"unit-switch",checkedIcon:r.a.createElement("b",{style:i.unit},"C"),uncheckedIcon:r.a.createElement("b",{style:i.unit},"F")})))},w=a(48),O=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],s=function(){i(!c)},o=function(){return r.a.createElement("nav",{className:"navbar fixed-top unselectable",style:{width:"100vw"}},r.a.createElement("a",{className:"side-toggler","data-toggle":"sideNav","data-target":"#sideNav",style:{cursor:"pointer"},onClick:function(){return s()}},r.a.createElement(u.a,{icon:["fas","bars"],size:"lg"}),r.a.createElement("h2",{className:"title"},"Weather App")))};return r.a.createElement("div",{className:"navUI"},r.a.createElement(o,null),r.a.createElement(w.a,{sidebar:r.a.createElement(b,null),open:c,onSetOpen:function(){return s()},sidebarClassName:"sideNavBar",docked:!1,transitions:!0}," "))},N=a(12),y=a.n(N),j=a(15),x=a(42),C=a(124),S=a(123),k=a(122),I=a(81),X={prepareBody:function(e){return JSON.stringify(e)},prepareUrl:function(e){return e},post:function(e,t){return Object(j.a)(y.a.mark((function a(){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(e,{method:"POST",body:t,headers:{"Content-Type":"application/json"}});case 2:return n=a.sent,a.next=5,n.text();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()},getWeather:function(e){var t=this;return Object(j.a)(y.a.mark((function a(){var n,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/open-weather",n=t.prepareUrl("/open-weather"),r=t.prepareBody(e),a.t0=JSON,a.next=6,t.post(n,r);case 6:return a.t1=a.sent,a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 8:case"end":return a.stop()}}),a)})))()},getCities:function(e){var t=this;return Object(j.a)(y.a.mark((function a(){var n,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"/get-cities",n=t.prepareUrl("/get-cities"),r=t.prepareBody(e),a.t0=JSON,a.next=6,t.post(n,r);case 6:return a.t1=a.sent,a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 8:case"end":return a.stop()}}),a)})))()}},D=function(e){var t=e.onSubmit,a=e.onBlur,c=(e.initVal,Object(n.useState)(!1)),i=Object(l.a)(c,2),o=i[0],u=i[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),p=m[0],f=m[1],E=Object(n.useState)(0),v=Object(l.a)(E,2),h=v[0],g=v[1],b=Object(n.useState)([]),w=Object(l.a)(b,2),O=w[0],N=w[1];Object(n.useEffect)((function(){o&&(t(function(){var e=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getWeather({locId:h});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()),u(!1))}),[o,h]),Object(n.useEffect)((function(){(console.log(p),p.length<2)||(function(){var e=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,X.getCities({query:p});case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),N([]))}),[p]);return console.log(O),r.a.createElement("div",{className:"card search-card"},r.a.createElement(C.a,{options:O,getOptionLabel:function(e){return function(e){var t=e.name,a=e.country;return"".concat(t,", ").concat(a)}(e)},autoHighlight:!0,style:{width:"100%"},loading:o,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{value:p,autoFocus:!0,onBlur:function(){return a()},style:{width:"90%",paddingTop:"1rem"},placeholder:"Enter city name...",onChange:function(e){return f(e.target.value)},InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,o?r.a.createElement(k.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},onChange:function(e,t){return t?(a=t.id,g(a),void u(!0)):null;var a}}))},A=(a(83),function(e){var t=e.index,a=e.data,n=e.onDelete,c=e.onEdit,i=a||"",s=i.name,o=i.country,d=i.icon,m=i.desc,p=i.current,f=i.min,E=i.max,v=i.pressure,h=i.humidity,b=i.vision,w=i.windspeed,O=i.winddeg,N=(i.sunrise,i.sunset,i.timezone,g()),y=Object(l.a)(N,1)[0],j={divider:{margin:"10px 0",height:1,backgroundColor:"#c0c0c066"}},x=function(e){var t=e-273.15;return Math.round("C"===y?t:9*t/5+32)};return s?r.a.createElement("div",{className:"card weather-card unselectable"},r.a.createElement("div",{className:"card-head"},r.a.createElement("a",{className:"name",onClick:function(){return c(s,o)}},r.a.createElement("span",null,s)),r.a.createElement("a",{className:"button",onClick:function(){return n(t)}},r.a.createElement(u.a,{icon:["fas","times"],size:"xs"}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"main"},r.a.createElement("span",{className:"current"},x(p),"\xb0"),r.a.createElement("div",{className:"status"},r.a.createElement("img",{id:"img",src:d?"http://openweathermap.org/img/wn/".concat(d,"@2x.png"):"",alt:""})),r.a.createElement("span",{id:"desc",className:"capitalize"},m)),r.a.createElement("div",{style:j.divider}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contain-left"},r.a.createElement("span",null,"Min"),r.a.createElement("span",{className:"stat"},x(f))),r.a.createElement("div",{className:"contain-right"},r.a.createElement("span",null,"Max"),r.a.createElement("span",{className:"stat"},x(E)))),r.a.createElement("div",{style:j.divider}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contain-left"},r.a.createElement("span",null,"Windspeed"),r.a.createElement("span",{className:"stat"},w,"m/s",r.a.createElement("div",{style:{transform:"rotate(".concat(O,"deg)")}},r.a.createElement(u.a,{icon:["fas","arrow-up"]})))),r.a.createElement("div",{className:"contain-right"},r.a.createElement("span",null,"Visibility"),r.a.createElement("span",{className:"stat"},function(e){var t=Math.round(e/1e3*10)/10;return e>100?"".concat(t,"km"):"".concat(e,"m")}(b)))),r.a.createElement("div",{style:j.divider}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contain-left"},r.a.createElement("span",null,"Pressure"),r.a.createElement("span",{className:"stat"},v,"hPa")),r.a.createElement("div",{className:"contain-right"},r.a.createElement("span",null,"Humidity"),r.a.createElement("span",{className:"stat"},h,"%"))))):r.a.createElement("div",{className:"card weather-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("a",{className:"loading-cont"},r.a.createElement("span",{className:"loading"},"Loading"),r.a.createElement("span",{className:"dot"}),r.a.createElement("span",{className:"dot"}),r.a.createElement("span",{className:"dot"})),r.a.createElement("a",{className:"button",onClick:function(){return n(t)}},r.a.createElement(u.a,{icon:["fas","times"],size:"xs"}))))}),P=function(e){var t=e.onChange,a=e.index,c=e.initData,i=Object(n.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],m=c?{name:c.name,country:c.country,id:c.id}:"",p=function(){var e=Object(j.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:e.t0=e.sent,e.t1=a,r={data:e.t0,index:e.t1},t(r),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(D,{initVal:m,onSubmit:function(e){return p(e)},onBlur:function(){return d(!1)}}):c?r.a.createElement(A,{index:a,data:c,onDelete:function(e){return t({index:e})},onEdit:function(){return d(!0)}}):r.a.createElement("a",{className:"card unselectable hover-card addButton",onClick:function(){return d(!0)}},r.a.createElement("span",{id:"add-text"},r.a.createElement(u.a,{style:{paddingTop:"60%",width:"100%",display:"inline-block"},icon:["fas","plus-circle"],size:"2x"}),r.a.createElement("p",null,"Add City")))},B=function(e,t){var a=t.type,n=t.data,r=t.index;switch(a){case"ADD_CARD":return r<e.length?[].concat(Object(x.a)(e.slice(0,r)),Object(x.a)(n),Object(x.a)(e.slice(r+1))):e.concat(n);case"REMOVE_CARD":return e.filter((function(e,t){return t!==r}));default:return n}},L=function(){var e=Object(n.useReducer)(B,[]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({startX:null,startScrollX:null}),s=Object(l.a)(i,2),o=s[0],u=s[1],d=JSON.parse(window.localStorage.getItem("saved-ids"));Object(n.useEffect)((function(){if(d&&d.length){var e=d.filter((function(e){return"number"==typeof e}));(function(){var t=Object(j.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return X.getWeather({locId:e})})));case 2:a=t.sent,c({type:"REPLACE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),c({type:"REPLACE",data:e})}}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("saved-ids",JSON.stringify(a.map((function(e){return e.id}))))}),[a]);var m=function(e){var t=e.data,a=e.index;c({type:t?"ADD_CARD":"REMOVE_CARD",data:[t],index:a})},p=function(e){var t=e.clientX,a=o.startX,n=o.startScrollX,r=n-t+a;window.scrollTo(r,0);var c=window.scrollX;r!==window.scrollX&&u({startX:t+c-n,startScrollX:n})},f=function e(){o.startX&&(window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",e),u({startX:null,startScrollX:null}))};return r.a.createElement("div",{className:"card-row body",onMouseDown:function(e){var t=e.target,a=e.clientX;"card-row body"===t.className&&(window.addEventListener("onmousemove",p),window.addEventListener("mouseup",f),u({startX:a,startScrollX:window.scrollX}))}},a.length>0&&a.map((function(e,t){return r.a.createElement(P,{initData:e,index:t,onChange:function(e){return m(e)}})})),a.length<10&&r.a.createElement(P,{onChange:function(e){return m(e)}}),r.a.createElement("div",{className:"placeholder"}))},R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null,r.a.createElement(o,null),r.a.createElement("div",{className:"UI"},r.a.createElement(O,null),r.a.createElement(L,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(31),M=a(29);z.b.add(M.c,M.d,M.b,M.e,M.a),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.302088ed.chunk.js.map